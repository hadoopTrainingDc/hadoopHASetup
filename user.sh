#!/bin/bash

useradd -m hadoopuser
mkdir /home/hadoopuser/.ssh
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC3WM70KvXrH/ugjwzW6Tsl5miv/a9XhTy6Yrhlzf9lo0EpXIbXkFEtQs4n2iuRkJcjb1Cnk2FzKWW428eHRO5kBCfVBnFbNRZJjq41O209BZ2UlyhxApX5IdeWkPPsXFsHlBKqENkydZsTDdsP02yNR9hN8e/Z41hDz8pY291sPU8hPtcw5E/97W70Im1NENbi7VjH4BxJcIIaHg7XRvTV+049kdTF7CC6c0bqDin+NcyX3DGaaumo1WOyOp3FhyFYrcZy/wmdY4+jivzeA+8J0aFjg9nC4f5bNkQT/G7/2Cy9mJxVeZaaqrCjP/sMhTpwU1cZSgS33Mk6ZPkCTZ4p root@HBDO-01" >> /home/hadoopuser/.ssh/authorized_keys
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDCG3yQAIZEyrlcufs6X6j2tbTpt9te9SuKsZn8SpIHoO5dMxnQGMd04fhELOwk2AghGJB5QGcolsyHOOvrwVUbOzycNRzHIHqgfaC3SNNlH0vAs2RwVx/Xg0ifmvzRtOQLvZ0P/mZYl1YECcc6DEw8039HlrW+VMLvjR8ZgNHHjYUFVFz0DR7+y4GoN45Fx1+a6zkAD0FCqUrdBrtwgUe7+AupRpYm4lTOoEuwaYRQGx8osod/yGxb7N1h3kOmfOt2DiTkaoQ4q5x+FQZlHOUPcx/rzBWRQbel6mGbD9r3kphAivdn8zlTZFhvacpbjRFZfKfOePF0x1wEno6DnodL root@HBDO-02" >> /home/hadoopuser/.ssh/authorized_keys
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDGWtwwKUwXTWcN+uMqGcaJ4yLgOTcfNOnr461wI+fMdNqixN2QXXCydYbheTtRbTLVBQteczqu1XBz6b+4npX7FX4Oyp6M0HfvhNIssFXhR4LbEWrBpR41XzG1YOI4r3f1XKS3/B8ORWeYWIZmfprtNVrgyOB+IHtSbMCDSSd0erTyRm4QvMQkpyUHCykVFohtn2nmhmoIJl+wgzuZPtQXwb88eEboj++YMt5dhEYmsnVx3YgLXq8lShh2aa28ZztR7DDEdIh4IqQbLsJrq1HxDdLVk9NTLnvEW/Vx5IrIrdVzjOWeTAAE7WnjbdmSwprxX4B9gEMhpowaUbMsclNX root@HBDO-03" >> /home/hadoopuser/.ssh/authorized_keys
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC/oPKE412mu+uLfIRG+TyW7CTzhFZRuqLo5hOnHkT5OwqC1hY/XnacZl1FfGLD/X3VZZ8xwHkvtqGmX9dY+kWx4swtfdy+mYbk6YRuPhwLWpmtcmyQFuXHfHGic3LCnpNa9/QP32qT6tFR5ZPB5pk0A75PKdKLIbgNCq4x8mnIxt/5GdGnHSjhqIeuGph2OzaY2dTMDWxbt3Q1rkeO16rZm0oa9F1ZEx6gGB51S90F77wuKCINiFH83ws41azpVzejyQbLd3f/sNxUc+IoRhrAztQbk7lUmEJTc3omJlz4PkuOh/n4XQZPdgh5VzQWCvjoXYVnueS6XDJsV88pgEYT root@HBDO-04" >> /home/hadoopuser/.ssh/authorized_keys
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCxcGLjaamh1r4iolp0tayhboCogq/NE5JwRGXmu3VFbBntiFdOpm6EU3y9TC3SxH1oeO5ix7cH22MNzvCMdehdB3Ler1DSzCNvgImcyHWt44fkanvZFTgXa1norXTmGj3DmZWxUKci8Z++GnoZ2svOYg79qcRfL3mjMrl5/HBm7/evA4iPotMB12uA3+Q0f4jexKWv3aHQ4TSu8IF9aCzK7PDNWQUTCGuxIco230gDWXeYqwdOCps0wD/9eEx1WmX6J/GtiiMaZKkCBWY8cYaxpP4JWNcuR7NkXzWEoaecVHml0Cp4XZZBcKZAYxUTk7cTSZlZtyxzYyLXZ7/qFOzh hadoopuser@HBDO-Controler" >> ~hadoopuser/.ssh/authorized_keys
chown -R hadoopuser:hadoopuser /home/hadoopuser/.ssh
chmod 600 /home/hadoopuser/.ssh/authorized_keys
chmod 700 /home/hadoopuser/.ssh/
echo "" >> /etc/sudoers
echo "# hadoopuser - cluster master :))" >> /etc/sudoers
echo "hadoopuser ALL=(ALL) NOPASSWD: ALL" >> /etc/sudoers
